
<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0" />
    <meta name="google-site-verification" content="VXixwtxrf--qUV1swfStEg9jOGPKgUm6C3Ub_vouqmc" />
    <title>MecBar | The Mec Evolution </title>
    <link rel="icon" href="foto/favicon.ico"/>
    <!-- CSS  -->
    <link href="css/materialize.css" type="text/css" rel="stylesheet" media="screen,projection" />
    
    <script src="js/jquery-3.js"></script>
    
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
   
    <link href="https://fonts.googleapis.com/css?family=Raleway|Satisfy" rel="stylesheet">
    <link href="css/style.css" type="text/css" rel="stylesheet" media="screen,projection" />

    <link href="css/style2.css" type="text/css" rel="stylesheet" media="screen,projection" />
    <link href="css/navbar.css" type="text/css" rel="stylesheet" media="screen,projection" />
 
</head>
<body>
<header>
    <nav>
        <li class="nav-wrapper back-home" id="head">
            <a href="http://www.mecbar.com/" class="brand-logo mecbar">
                <?xml version="1.0" encoding="UTF-8" standalone="no"?>
                <svg
                   xmlns:osb="http://www.openswatchbook.org/uri/2009/osb"
                   xmlns:dc="http://purl.org/dc/elements/1.1/"
                   xmlns:cc="http://creativecommons.org/ns#"
                   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
                   xmlns:svg="http://www.w3.org/2000/svg"
                   xmlns="http://www.w3.org/2000/svg"
                   xmlns:xlink="http://www.w3.org/1999/xlink"
                   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
                   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
                   width="156"
                   height="64"
                   viewBox="0 0 12.3825 5.08"
                   version="1.1"
                   id="svg8"
                   inkscape:version="1.0 (6e3e5246a0, 2020-05-07)"
                   sodipodi:docname="mecbar.svg">
                  <defs
                     id="defs2">
                    <linearGradient
                       osb:paint="solid"
                       id="linearGradient2948">
                      <stop
                         id="stop2946"
                         offset="0"
                         style="stop-color:#c6126a;stop-opacity:1;" />
                    </linearGradient>
                    <linearGradient
                       osb:paint="solid"
                       id="linearGradient875">
                      <stop
                         id="stop873"
                         offset="0"
                         style="stop-color:#babd06;stop-opacity:1;" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient3253"
                       osb:paint="solid">
                      <stop
                         style="stop-color:#878734;stop-opacity:1;"
                         offset="0"
                         id="stop3251" />
                    </linearGradient>
                    <linearGradient
                       inkscape:collect="always"
                       id="linearGradient3093">
                      <stop
                         style="stop-color:#c6126a;stop-opacity:1;"
                         offset="0"
                         id="stop3089" />
                      <stop
                         style="stop-color:#c6126a;stop-opacity:0;"
                         offset="1"
                         id="stop3091" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient3071"
                       osb:paint="solid">
                      <stop
                         style="stop-color:#c6126a;stop-opacity:1;"
                         offset="0"
                         id="stop3069" />
                    </linearGradient>
                    <rect
                       x="38.182308"
                       y="80.104469"
                       width="51.135052"
                       height="30.274338"
                       id="rect18630" />
                    <rect
                       x="160.31746"
                       y="77.487633"
                       width="134.35785"
                       height="60.829021"
                       id="rect18624" />
                    <rect
                       x="70.354279"
                       y="28.223705"
                       width="103.27115"
                       height="64.638908"
                       id="rect18618" />
                    <rect
                       x="32.55666"
                       y="25.199898"
                       width="5.2916665"
                       height="43.089287"
                       id="rect18612" />
                    <rect
                       x="34.029621"
                       y="65.792862"
                       width="93.441322"
                       height="26.673161"
                       id="rect18606" />
                    <rect
                       x="10.284417"
                       y="19.486744"
                       width="193.27823"
                       height="129.88597"
                       id="rect18596" />
                    <linearGradient
                       inkscape:collect="always"
                       xlink:href="#linearGradient3093"
                       id="linearGradient3101"
                       gradientUnits="userSpaceOnUse"
                       x1="3.1346149"
                       y1="23.792595"
                       x2="78.606865"
                       y2="23.792595" />
                    <filter
                       height="1"
                       y="-2.5183475e-16"
                       width="1"
                       x="-7.1910066e-17"
                       style="color-interpolation-filters:sRGB"
                       inkscape:label="Blend"
                       id="filter3198">
                      <feBlend
                         in2="SourceGraphic"
                         mode="multiply"
                         result="fbSourceGraphic"
                         id="feBlend3196" />
                      <feColorMatrix
                         result="fbSourceGraphicAlpha"
                         in="fbSourceGraphic"
                         values="0 0 0 -1 0 0 0 0 -1 0 0 0 0 -1 0 0 0 0 1 0"
                         id="feColorMatrix3200" />
                      <feBlend
                         in2="fbSourceGraphic"
                         id="feBlend3202"
                         mode="multiply"
                         result="blend"
                         in="fbSourceGraphic" />
                      <feGaussianBlur
                         id="feGaussianBlur869"
                         stdDeviation="6.7542215e-15" />
                    </filter>
                    <linearGradient
                       gradientUnits="userSpaceOnUse"
                       y2="9.1505461"
                       x2="228.5569"
                       y1="9.1505461"
                       x1="3.1346149"
                       id="linearGradient2950"
                       xlink:href="#linearGradient2948"
                       inkscape:collect="always" />
                    <linearGradient
                       y2="9.1505461"
                       x2="228.5569"
                       y1="9.1505461"
                       x1="3.1346149"
                       gradientTransform="translate(2.3455617,-9.683066)"
                       gradientUnits="userSpaceOnUse"
                       id="linearGradient3064"
                       xlink:href="#linearGradient2948"
                       inkscape:collect="always" />
                  </defs>
                  <sodipodi:namedview
                     id="base"
                     pagecolor="#ffffff"
                     bordercolor="#666666"
                     borderopacity="1.0"
                     inkscape:pageopacity="0.0"
                     inkscape:pageshadow="2"
                     inkscape:zoom="0.7"
                     inkscape:cx="355.19772"
                     inkscape:cy="45.714286"
                     inkscape:document-units="mm"
                     inkscape:current-layer="layer1-6"
                     inkscape:document-rotation="0"
                     showgrid="false"
                     inkscape:window-width="1324"
                     inkscape:window-height="747"
                     inkscape:window-x="36"
                     inkscape:window-y="21"
                     inkscape:window-maximized="1"
                     units="px"
                     inkscape:snap-nodes="true"
                     inkscape:object-paths="true"
                     scale-x="0.3" />
                  <metadata
                     id="metadata5">
                    <rdf:RDF>
                      <cc:Work
                         rdf:about="">
                        <dc:format>image/svg+xml</dc:format>
                        <dc:type
                           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
                        <dc:title></dc:title>
                      </cc:Work>
                    </rdf:RDF>
                  </metadata>
                  <g
                     inkscape:label="Layer 1"
                     inkscape:groupmode="layer"
                     class="io"
                     id="layer1">
                    <rect
                       ry="7.1295023"
                       rx="10.726023"
                       y="-2.8428149"
                       x="-4.4855061"
                       height="21.245117"
                       width="20.103241"
                       id="rect2824"
                       style="opacity:0;fill:#c6126a;stroke:#babd06;stroke-width:0.0794996;stroke-opacity:0.00424254" />
                    <g
                       inkscape:label="Layer 1"
                       id="layer1-6"
                       transform="matrix(0.16152221,0.0020121,0,0.13626925,0.08059628,0.86541284)"
                       style="mix-blend-mode:normal;fill:url(#linearGradient2950);fill-opacity:1;stroke-width:6.74038;filter:url(#filter3198);image-rendering:optimizeQuality">
                      <text
                         xml:space="preserve"
                         id="text18594"
                         style="font-style:normal;font-weight:normal;font-size:10.5833px;line-height:125%;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;white-space:pre;shape-inside:url(#rect18596);fill:url(#linearGradient2950);fill-opacity:1;stroke:none;stroke-width:1.78339px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;" />
                      <text
                         xml:space="preserve"
                         style="font-style:oblique;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:25.0978px;line-height:125%;font-family:Purisa;-inkscape-font-specification:'Purisa, Oblique';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;letter-spacing:0px;word-spacing:0px;fill:url(#linearGradient3064);fill-opacity:1;stroke:none;stroke-width:1.78339px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
                         x="-4.0898471"
                         y="24.876211"
                         id="text18602"
                         transform="matrix(0.75566848,-0.20637119,0.34609071,1.2288151,0,0)"><tspan
                   sodipodi:role="line"
                   id="tspan18600"
                   x="-4.0898471"
                   y="24.876211"
                   style="font-style:oblique;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:25.0978px;font-family:Purisa;-inkscape-font-specification:'Purisa, Oblique';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;fill:url(#linearGradient3064);fill-opacity:1;stroke-width:1.78339px">MecBar</tspan>        <animate
                   style="fill-opacity:1;fill:url(#linearGradient3064)"
                   begin="0s;light_2.end"
                   dur="1s"
                   values="1;0"
                   attributeName="fill-opacity"
                   id="light_1" />       <animate
                   style="fill-opacity:1;fill:url(#linearGradient3064)"
                   begin="light_1.end"
                   dur="1s"
                   values="0;1"
                   attributeName="fill-opacity"
                   id="light_2" />           </text>
                      <text
                         xml:space="preserve"
                         id="text18604"
                         style="font-style:normal;font-weight:normal;font-size:10.5833px;line-height:125%;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;white-space:pre;shape-inside:url(#rect18606);fill:url(#linearGradient2950);fill-opacity:1;stroke:none;stroke-width:1.78339px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;" />
                      <text
                         xml:space="preserve"
                         id="text18610"
                         style="font-style:normal;font-weight:normal;font-size:10.5833px;line-height:125%;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;white-space:pre;shape-inside:url(#rect18612);fill:url(#linearGradient2950);fill-opacity:1;stroke:none;stroke-width:1.78339px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;" />
                      <text
                         xml:space="preserve"
                         id="text18616"
                         style="font-style:normal;font-weight:normal;font-size:10.5833px;line-height:125%;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;white-space:pre;shape-inside:url(#rect18618);fill:url(#linearGradient2950);fill-opacity:1;stroke:none;stroke-width:1.78339px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;" />
                      <text
                         xml:space="preserve"
                         id="text18622"
                         style="font-style:normal;font-weight:normal;font-size:10.5833px;line-height:125%;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;white-space:pre;shape-inside:url(#rect18624);fill:url(#linearGradient2950);fill-opacity:1;stroke:none;stroke-width:1.78339px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;" />
                      <text
                         xml:space="preserve"
                         id="text18628"
                         style="font-style:normal;font-weight:normal;font-size:12.7px;line-height:125%;font-family:sans-serif;text-align:justify;letter-spacing:0px;word-spacing:0px;white-space:pre;shape-inside:url(#rect18630);fill:url(#linearGradient2950);fill-opacity:1;stroke:none;stroke-width:1.78339px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;" />
                      <animate
                         style="fill-opacity:1;fill:url(#linearGradient2950)"
                         begin="0s;light_2.end"
                         dur="1s"
                         values="1;0"
                         attributeName="fill-opacity"
                         id="light_1" />
                      <animate
                         style="fill-opacity:1;fill:url(#linearGradient2950)"
                         begin="light_1.end"
                         dur="1s"
                         values="0;1"
                         attributeName="fill-opacity"
                         id="light_2" />
                    </g>
                    <rect
                       ry="7.1295042"
                       rx="10.726021"
                       y="-2.8428149"
                       x="-4.4855061"
                       height="16.413473"
                       width="25.987757"
                       id="rect871"
                       style="opacity:0;fill:#c6126a;stroke:#babd06;stroke-width:0.0794996;stroke-opacity:0.00424254" />
                  </g>
                  <style
                     id="style43">
                           #tspan18600 {
                               
                              animation-name: mecOpacity;
                              animation-duration: 2s;
                              animation-iteration-count: infinite;
                              }
                              @keyframes mecOpacity {
                              0%   { fill-opacity:1 }
                                50%  {fill-opacity :0.1; }
                            100% { fill-opacity: 1; }
                              }
                    </style>
                </svg>
                </a>
            <a href="#" data-activates="mobile-demo" class="button-collapse"><i class="material-icons">menu</i></a>

            <ul class="right hide-on-med-and-down">
                <!--  <li> <a class="btn" onclick="Materialize.toast('Hello', 4000, 'Ciao' ,4000 )">Touch Me</a> </li>
              -->

              <li><a href="http://www.mecbar.com/#Ablog">Blog</a></li>
              <li><a href="http://www.mecbar.com/#Ablock">Blockchain</a></li>
              <li><a href="http://www.mecbar.com/#quantum">Quantum</a></li>
              <li><a href="http://www.mecbar.com/#Amachine">Machine Learning</a></li>
              <li><a href="http://www.mecbar.com/#Alinux">Linux</a></li>
              <li><a href="http://www.mecbar.com/#Aus">Contatti</a></li>
                <li>
                    <a href=""> </a>
                </li>
                <li>
                    <a href=""> </a>
                </li>
            </ul>
          
              <ul class="side-nav" id="mobile-demo">
               <li><a href="http://www.mecbar.com/#Ablog">Blog</a></li>
              <li><a href="http://www.mecbar.com/#Ablock">Blockchain</a></li>
                 <li><a href="http://www.mecbar.com/#quantum">Quantum</a></li>
              <li><a href="http://www.mecbar.com/#Amachine">Machine Learning</a></li>
              <li><a href="http://www.mecbar.com/#Alinux">Linux</a></li>
              <li><a href="http://www.mecbar.com/#Aus">Contatti</a></li>
            </ul>
        
            </li>
    </nav>
</header>
<script>
    MathJax = {
      loader: {load: ['input/asciimath', 'output/chtml']}
    }
</script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

<body>
<div class="center titolo">
    <i>SHOR's Algorithm </i>
 </div>

<div class="testo">
    Questo algoritmo si utilizza per la fattorizzazione di un numero intero cioè trovare i 2 numeri(fattori) il cui prodotto è il risultato della 
    moltiplicazione dei 2 fattori. Dato il numero N = p * q dove p e q sono numeri primi con lo Shor algorithm troviamo p e q. 
    L'algoritmo classico impiega un tempo di `O(exp(n^(1/3))` mentre con lo Shor quantum algorithm si impiega `O(n^2logn)`. <br> <br>
<br> 
    Prima di analizzare l'algoritmo vediamo la base matematica.  <br>
    Partiamo dal modulo aritmetico. <br>Nella divisione di 2 numeri abbiamo il quoziente
    ed il resto ad esempio se facciamo `20/3` abbiamo 6 come quoziente e 2 come resto e si può rappresentare 
    come `20 ≡ 2 (mod 6)` cioè `a ≡ b (mod n)`. 
    <br> <br> 
    <div class="center">
        <img src="foto/shormod.png" width="95%" height="350px"> <br> <br> 
    </div>
    Nell'immagine sovrastante vediamo in sequenza il resto per ogni numero che viene diviso per 21 (modulo 21).
    <br> <br> 

    La base di partenza per trovare p e q è la funzione periodica seguente <br> <br> 
    <div class="center"> `f(x)=a^xmodN` </div><br> <br> dove a e N 
    sono interi positivi con `1 < a < N` e non devono avere fattori in comune.<br> 
    Questa funzione è utile per trovare il periodo chiamato anche order r che è il più piccolo numero diverso da zero 
     tale che <br> <br> 
     <div class="center">
    `a^rmodN=1` </div> <br> <br> quindi  
    <div class="center">
    `a^r = 1 modN` </div>
    <br> <br> Con questa formula inizia il procedimento di ricerca di r.<br> <br> 
    Si inizia dalla selezione di un valore di a compreso tra {2..N-1}<br> <br> 
In python il resto si trova con la seguente operazione  np.mod(a**x, N)  con x in {1,2,3 ... } r è uguale alla x che ci restituisce resto 1.<br><br> 
Troveremo diversi x che ci restituisce 1 ma si prende il più piccolo e si lasciano i successivi.<br> <br> 

Nell'esempio sottostante con N=21 ed a=2 troviamo r = 6 perchè 2<sup>6</sup> = 64 che diviso 21 fornisce come resto 1.  <br> <br> 
Vediamo nel dettaglio i valori restititi con la funzione mod con a=2 ed x  da {1 a 12}  <br> <br> 
np.mod(2**1, 21) = 2 <br>
np.mod(2**2, 21) = 4<br>
np.mod(2**3, 21) = 8<br>
np.mod(2**4, 21) = 16<br>
np.mod(2**5, 21) = 11<br>
np.mod(2**6, 21) = 1<br>
np.mod(2**7, 21) = 2<br>
np.mod(2**8, 21) = 4<br>
np.mod(2**9, 21) = 8<br>
np.mod(2**10, 21) = 16<br>
np.mod(2**11, 21) = 11<br>
np.mod(2**12, 21) = 1<br><br> 

I grafici sottostanti riproducono i risultati ottenuti con la periodicità visibille nei casi di N = 21 che si 
ripete per i valori di x uguale a 6, 12 e 18 dove r = 6, p = 3, q = 5 e N = 143 con r = 20 p = 13 e q = 11.<br><br> 
<div class="row">
   <div class="col l6 m12 s12">
      <div class="center">
        <img src="foto/periodicity.png" width="90%" height="300px"> <br> <br> 
      </div>
   </div>
   <div class="col l6 m12 s12">
      <div class="center">
        <img src="foto/periodicity2.png" width="90%" height="300px"> <br> <br> 
      </div>
   </div>

</div>


Se r è un numero pari e r+1 ≠ 0 (mod N) procediamo altrimenti selezionare una nuova a e ripetere le operazioni precedenti. <br><br> 
Trovata la r cioè la periodicità passiamo ora a trovare p e q. <br><br> 
Calcoliamo p = MCD(a<sup>r/2</sup>+1,N) e q = MCD(a<sup>r/2</sup>-1,N) dove MCD è il massimo comun divisore in inglese gcd. <br> <br> 
Da notare che solo la ricerca delle periodicità r viene eseguita come operazione quantistica perchè le altre operazioni sono 
le stesse che si eseguono nei computer tradizionali. <br> <br>
Qui vediamo il codice in python per l'operazione sopra descritta.<br> <br>

</div>
<div class="grover">

    N = 21<br>
    a = 2<br>
    numeri = np.arange(21)<br>
    ris = [x  for x in numeri if x > 0 and np.mod(a**x, N) == 1 ]<br>
    r = ris[0]<br>
    ar =int(r/2)<br>
    p = np.gcd(a**ar + 1,N)<br>
    q = np.gcd(a**ar - 1,N)<br>


</div>
<div class="testo">
Vediamo ora come è possibile rendere criptato un messaggio con una chiave RSA.  
<br> <br> 
<div class="center">
    <img src="foto/rsa.png" width="95%" height="350px"> <br> <br> 
</div>

Nella tabella sovrastante possiamo vedere quali sono le funzioni necessarie per creare una chiave RSA. 
<br> <br> 
Si parte con la scelta di 2 numeri primi(vengono utilizzati i maggiori numeri primi) ma qui prendiamo 2 numeri primi piccoli 
per facilità nei calcoli.  <br> <br> 
Questi devono rimanere segreti ma si utilizza il prodotto generato dalla loro moltiplicazione.
<br> <br> 
Si possono notare le diverse chiavi private e pubbliche e tramite le diverse formule 
si ottiene il messaggio cifrato e se si hanno i 2 numeri primi si possono decifrare i messaggi cifrati. 
<br> <br> 

</div>
<div class="grover">
   p = 13<br> 
   q = 3<br> 
   N = p*q<br> 
   φN = (p-1)*(q-1)<br> 
   msg = 20<br> 
   <br> 
   ### calcolo r ###<br> 
   
   # < e < Φ(n)  <br> 
   for e in range(2,φN):<br> 
   <span style="margin-left:30px">   if np.gcd(e, φN) ==1 :</span><br> 
      <span style="margin-left:60px">     r = e</span><br> 
         <span style="margin-left:60px">     break</span><br> 
   ### calcolo ir ###<br> 
   <br> 
   numeri = np.arange( φN)<br> 
   mo   = [x for x in numeri if x > 0 and np.mod(e*x,  φN) == 1 ]<br> 
   ir = mo[0]<br> 
   <br> 
   ### messaggio criptato ###<br> 
   <br> 
   C = np.mod(msg**r,  N) <br> 
   <br> 
   
   ### decriptazione messaggio ###<br> 
   <br> 
   msg2  = np.mod(C**ir,  N) <br> 
   <br> 

</div>
<div class="testo">
   Vediamo i dati creati con i relativi comandi.
</div>
<div class="center">
   <img src="foto/rsaex.png" width="80%" height="350px"> <br> <br> 
</div>
<div class="testo">
A questo punto si capisce l'importanza dello Shor's quantum algorithm perchè ci permette di 
trovare i 2 numeri primi dato N. 
</div>
<br> <br> 
<div class="center">
   <img src="foto/shorschema.png" width="80%" height="350px"> <br> <br> 
</div>
<div class="testo">
Vediamo nel dettaglio le fasi iniziando dalla A si inserisce il gate H sul primo circuito per tutti i qubits inseriti 
in questo esempio per N = 21 in binario 10101 composto da 6 qubits.<br><br>
Nella Fase B inseriamo la funzione f<sub>a,N</sub>(x) = a<sup>x</sup> (mod N) già presentata in precedenza.<br> Vediamo la formula che descrive 
l'operazione indicata che viene applicata a |x⟩|y⟩ per ottenere |x⟩|y⟩ ⊕ |f<sub>a,N</sub>(x)⟩ <br><br>
con la seguente formula 
|y⟩= `1/(√r) sum_{k=0}^(r-1)` `|a^kmodN`⟩<br><br>
e nel nostro esempio otteniamo 

`1/(√6) sum_{k=0}^(5)|2^kmod21`⟩  con r = 6 e a = 2 e N = 21<br><br>
`= 1/(√6)`[|0⟩|1⟩ + |1⟩|2⟩ + |2⟩|4⟩ + |3⟩|8⟩ + |4⟩|16⟩ + |5⟩|11⟩ + |6⟩|1⟩ + 
 |7⟩|2⟩ + |8⟩|4⟩ + |9⟩|8⟩ + |10⟩|16⟩ + |11⟩|11⟩ + |12⟩|1⟩ +
  |13⟩|2⟩ + |14⟩|4⟩ + |15⟩|8⟩ + |16⟩|16⟩ + |17⟩|11⟩ + |18⟩|1⟩ +
   |19⟩|2⟩ + |20⟩|4⟩ ]<br><br>
Ora vediamo in dettaglio come costruire la funzione f<sub>a,N</sub>(x) = a<sup>x</sup> (mod N) 
con x = [x<sub>1</sub>,x<sub>2</sub>x<sub>3</sub>, ...., x<sub>n</sub>] = 
2<sup>(n-1)</sup>x<sub>1</sub>, 2<sup>(n-2)</sup> x<sub> 2</sub>, 2<sup>(n-2)</sup>x<sub>3</sub>,2<sup>0</sup>x<sub>n</sub>
 quindi f<sub>a,N</sub>(x) = a<sup>x</sup> (mod N)  =  `(a^2)`<sup>exp(n-1)</sup> x<sub>1</sub>   `(a^2)`<sup>exp(n-2)</sup> x<sub>2</sub>   `(a^2)`<sup>exp(0)</sup> x<sub>2</sub>  (mod N)<br><br>
e rispecchia quanto già osservato nel QPE algorithm dove si inseriscono tanti Controlled U gate per ogni x come da immagine sottostante. <br> 
<div class="center">
   <img src="foto/qpees.png" width="40%" height="250px"> <br> <br> 
</div>
<br>



Nella fase C avviene la misurazione del registro y.<br><br>
Nella fase D si inserisce l'inverso del QFT algorithm con la seguente formula 
`1/sqrt(N)  sum_(y=0)^(N-1) e^(-2pii(xy)/N)`|x⟩ dove qui N = 2<sup>n</sup> con n = numero qubits
nel nostro esempio 2<sup>5</sup>.<br><br>
Infine nella fase E avviene la misurazione del registro x dove avremo n risultati per n qubits che compongono il 
registro ed ogni risultato ha la stessa probabilità per cui dovremo poi testarli per trovare 
quale risultato ci permette di trovare p e q ed abbiamo 3/4 di probabilità di avere 
un esito positivo.<br><br>

Infatti il risultato che si ottiene sono i possibili valori della funzione np.mod(a**x, N) == 1  
cioè i possibili valori di r (periodicità) essendo il primo zero non ci dà nessun risultato ma provando 
a calcolare con la gcd o MCD si trova o un fattore di N, in questo caso poi si trova il secondo facendo N/fattore trovato   
mentre altra possibilità e che si trovino entrambi i fattori. 

Nell'immagine sottostante si può vedere il circuito creato per eseguire lo shor algorithm. 


<div class="center">
   <img src="foto/shor_a7mod21.png" width="90%" height="450px"> <br> <br> 
</div>

Il risultato ottenuto sono i valori ∣0⟩ ∣6⟩ ∣12⟩ ∣18⟩ ∣24⟩ e vanno verificati con 
la formula `j(N/r)` dove N uguale a 2<sup>num qubits</sup> e r è il valore 
x da inserie nella formula `f(x)=a^xmodN` per cui analizziamo nel nostro esempio 
i risultati del circuito per trovare i valori di p e q cioè i 2 numeri primi che generano N.
<br> <br> 
Il primo risultato è ∣0⟩ che non ci consegna nessun risultato si passa al valore successivo. <br> 
<br> 
Procediamo con il secondo risultato che è ∣6⟩ 
qui con j=1 abbiamo `32/r = 6` con j=2 `64/r = 6`  j=3 `96/r = 6` quindi prendiamo questa soluzione 
che ci ritorna r = 16.<br> 
Con r passiamo a trovare il valore di x dove `x = a^(r/2) (mod N)` = `2^(16/2) (mod 21)` = 6 

</div>

<div class="grover">
N=21<br> 
a=2 <br> 
r=16<br> 
ar =int(r/2)<br> 
p = np.gcd(2**8 + 1,N)<br> 
q = np.gcd(2**8 - 1,N)<br> 
p=1<br> 
q=3<br> 
</div>
<div class="testo">
∣12⟩ trovare valore di x con `x = a^(r/2) (mod N)` = 12 per j= 3 abbiamo `96/r = 12` e troviamo r = 8  
con `2^(8/2) (mod 21)` = 12
</div>
<div class="grover">
N=21<br> 
a=2 <br> 
r=8<br> 
ar =int(r/2)<br> 
p = np.gcd(2**8 + 1,N)<br> 
q = np.gcd(2**8 - 1,N)<br> 
p=1<br> 
q=3<br> 
</div>
<div class="testo">
∣18⟩

trovare valore di x con `x = a^(r/2) (mod N)` = 18 per j= 9 = `9*32/r = 18` 
troviamo r = 16  j = 9 quindi `2^(16/2) (mod 21)` = 18 
</div>
<div class="grover">
N=21<br> 
a=2 <br> 
r=16<br> 
ar =int(r/2)<br> 
p = np.gcd(2**8 + 1,N)<br> 
q = np.gcd(2**8 - 1,N)<br> 
p=1<br> 
q=3<br> 
</div>
<div class="testo">
∣24⟩

trovare valore di x con  `x = a^(r/2) (mod N)` = 18 per   `j= 3  3*32/r = 24`   
troviamo r = 4  = `2^(4/2) (mod 21)` 
</div>
<div class="grover">
N=21<br> 
a=2 <br> 
r=4<br> 
ar =int(r/2)<br> 
p = np.gcd(2**2 + 1,N)<br> 
q = np.gcd(2**2 - 1,N)<br> 
p=1<br> 
q=3<br> 
</div>

<div class="testo">
A parte il risultato ∣0⟩ negli altri ∣6⟩ ∣12⟩ ∣18⟩ ∣24⟩ otteniamo p = 1 e q = 3 da cui facendo 
N/q itteniamo p, quindi 21/3 = 7 per cui abbiamo trovato i valori dei 2 numeri primi conoscendo solo N. 
Nel nostro esempio abbiamo utilizzato a = 2 che ci ha fornito 4/5 di risultati validi anche se con u solo risultato 
cioè q = 3 per poi risalirea p. Provando con altri valori di a > 1 e < N che non abbia fattori in comune con N 
si può ottenere come risultato p e q. 

</div>









</body>
</html>